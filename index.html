<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Visor SBS 2— Carga desde tu equipo</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>

<body>
  <header class="topbar">
    <h1>Visor Estereoscópico (SBS)</h1>
    <p class="sub">Carga dos imágenes (Ojo Izquierdo / Ojo Derecho) y entra a VR.</p>
  </header>

  <section class="uploader">
    <div class="drop" id="dropL">
      <input id="fileL" class="file" type="file" accept="image/*" />
      <div class="hint">
        <span class="eye">Ojo Izquierdo</span>
        <button class="btn ghost" type="button" id="btnL">Subir</button>
        <small>o arrastra tu imagen aquí</small>
      </div>
      <img id="thumbL" class="thumb" alt="Vista previa izquierda" />
    </div>

    <div class="drop" id="dropR">
      <input id="fileR" class="file" type="file" accept="image/*" />
      <div class="hint">
        <span class="eye">Ojo Derecho</span>
        <button class="btn ghost" type="button" id="btnR">Subir</button>
        <small>o arrastra tu imagen aquí</small>
      </div>
      <img id="thumbR" class="thumb" alt="Vista previa derecha" />
    </div>

    <div class="tools">
      <button id="swapBtn" class="btn">Swap ojos</button>
      <button id="centerBtn" class="btn">Recentrar</button>
    </div>
  </section>

  <main class="stage">
    <div id="canvasWrap"><canvas id="app"></canvas></div>

    <aside class="panel">
      <h2>Controles</h2>

      <div class="ctrl">
        <label>Tamaño del panel (m)
          <input id="size" type="range" min="0.2" max="5" step="0.01" value="1.6" />
        </label>
      </div>
      <div class="ctrl">
        <label>Distancia Z (m)
          <input id="dist" type="range" min="0.3" max="5" step="0.01" value="1.2" />
        </label>
      </div>

      <details>
        <summary>Alineación fina por ojo</summary>
        <div class="grid2">
          <div>
            <h3>Izq</h3>
            <label>Offset X (m)
              <input id="lx" type="range" min="-0.3" max="0.3" step="0.001" value="0" />
            </label>
            <label>Offset Y (m)
              <input id="ly" type="range" min="-0.3" max="0.3" step="0.001" value="0" />
            </label>
            <label>Rotación (°)
              <input id="lr" type="range" min="-10" max="10" step="0.01" value="0" />
            </label>
          </div>
          <div>
            <h3>Der</h3>
            <label>Offset X (m)
              <input id="rx" type="range" min="-0.3" max="0.3" step="0.001" value="0" />
            </label>
            <label>Offset Y (m)
              <input id="ry" type="range" min="-0.3" max="0.3" step="0.001" value="0" />
            </label>
            <label>Rotación (°)
              <input id="rr" type="range" min="-10" max="10" step="0.01" value="0" />
            </label>
          </div>
        </div>
      </details>

      <div class="tips">
        <ul>
          <li>Para VR en móvil necesitas **HTTPS**.</li>
          <li>Pulsa el botón “VR” (abajo) para entrar al visor.</li>
          <li>Usa “Swap ojos” si ves los ojos invertidos.</li>
          <li>Recentrar coloca el panel frente a tu mirada.</li>
        </ul>
      </div>
    </aside>
  </main>

  <footer class="foot">
    <small>© <span id="year"></span> Paola Ortiz — Todos los derechos reservados · Three.js + WebXR</small>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
  <script type="module" src="js/main.js"></script>
</body>

</html>